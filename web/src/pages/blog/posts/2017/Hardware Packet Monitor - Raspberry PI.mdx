<blockquote>So I have been working on a new project with my <a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b/">Raspberry Pi 3</a>. I was looking for situations where something running on my current PC would block an application like <a href="https://www.wireshark.org/">Wireshark</a>, and how to work around this protection. My solution was a direct bridge through my Raspberry Pi along my ethernet cable.</blockquote>
First things first. The Raspberry Pi 3 only has 1 ethernet port, so I had to purchase an adapter for a second one. <a href="https://www.amazon.com/AmazonBasics-1000-Gigabit-Ethernet-Adapter/dp/B00M77HLII/ref=sr_1_1?dd=9MLP35dHsdPPzlSttU5YeQ%2C%2C&amp;ddc_refnmnt=pfod&amp;ie=UTF8&amp;qid=1487196158&amp;sr=8-1&amp;keywords=USB%2Bto%2Bethernet&amp;refinements=p_97%3A11292772011&amp;th=1">I purchased this one on amazon and had no troubles</a>, it is the same speed as the onboard port the Pi has. This could be accomplished with IP Tables and using the Wlan0 interface, however I opted to spend money and make my life easier.

The first step is to enable SSH and connect your Pi to wifi. <a href="https://www.raspberrypi.org/documentation/remote-access/ssh/">Here is a tutorial for that if you don't already know.</a>

Next you will need to connect over <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">Putty</a>, The default login is: pi / raspberry

<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/H1ZjfkCw/T8mQqLvQ06YaFldX.png" width="661" height="419" />

Once connected, you'll need to navigate to /etc

<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/w7w7e6HW/7Hfn1STV0gLr1hh2.png" width="252" height="40" />

Now, you'll need to edit the rc.local file using nano.
<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/jFT5voNY/aX21zJ07Im9oH3Ho.png" width="347" height="14" />

You'll need to add the following to the file.

<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/hJxhhDo8/A8LfMyKgMflH7icz.png" width="307" height="99" />

I added a bit more when playing around. The new file should look like this.
<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/nfc3Bp18/wxfLDXHLEX8GP1BP.png" width="655" height="590" />

Good now you can save that file with Ctrl+O and exit with Ctrl+X

Now you can shutdown your Pi using sudo shutdown.

<strong>Hardware setup time!</strong>

<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/hnhjEyl2/photo_2017-03-04_16-01-29.jpg" width="960" height="1280" />

The red X's are unneeded for this build, I was using them during initial setup and never removed them.
The yellow circle represents the eth1 interface, this connects to your router/switch/ect.
The green circle represents the eth0 interface, this connects to your PC.
The purple circle is the power connector, I directly connected this to a USB port on my PC so the Pi boots whenever I boot my PC.

Once all of this is connected, You should be able to boot your pi and use your internet as if nothing was changed.

<strong>Now the software :D</strong>

For this example, I will be using TCPDump, you can install this with <em>sudo apt-get install tcpdump</em>

<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/Oy6qX7yu/FNfiKX4pUc5JeGzw.png" width="743" height="260" />

First verify that your bridge is setup. (You wouldn't have internet on your PC if it wasn't)
For this I used ifconfig, however it can be done many ways.

<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/3QQHpbKd/KQDIYbcDZsWJq09k.png" width="626" height="161" />

Now you can start monitoring packets

<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/ce4rUDXX/tNFSZp6KgJseVFRU.png" width="515" height="67" />

[embed]https://ss.lystic.zip/Legacy/7NExONS1/1WsVzqT3eyWdY2Xf.mp4[/embed]

You can cancel the packet capture with Ctrl+C

<strong>Extension</strong>
So if your internet is faster than 100Mbps the raspberry pi may not be your best bet. If you need Between 100Mbps and 1Gbps I would recommend doing something similar to this with the new <a href="https://www.asus.com/uk/Single-board-Computer/TINKER-BOARD/">Asus Tinker board</a> which has onboard 1Gbps ethernet.

I plan to continue this project with a Raspberry Pi Zero, <a href="http://lifehacker.com/power-a-raspberry-pi-zero-over-ethernet-1752284809">Power over Ethernet</a>, and <a href="http://libtins.github.io/">libtins</a>.

&nbsp;

&nbsp;

I captured all these screenshots and videos with my custom Gyazo tool. <a href="http://lystic.net/2017/02/09/how-to-host-your-own-gyazo-server/">You can read about that here.</a>

<img class="alignnone size-medium" src="https://ss.lystic.zip/Legacy/snLIjLYA/photo_2017-03-04_16-01-09.jpg" width="960" height="1280" />